# 十年一梦：我的火箭模拟之旅 (My Ten-Year Rocket Dream: A Simulation Journey)

## 🚀 项目缘起 (The Vision)

这个项目，源于一个在我脑中盘旋了十年的梦想。我着迷于火箭，着迷于它们挣脱引力、飞向深空的磅礴力量。现在，我决定将这个梦想付诸实践，从零开始，一步步构建、模拟、并最终理解火箭飞行的全部奥秘。

这不仅仅是一个代码仓库，这是我未来数年学习和成长的日志，是我兑现十年之约的见证。

*   **项目状态:** `进行中 (In Progress)`
*   **当前里程碑:** `已完成 - M2: 从“是什么”到“为什么”——我的物理引擎`

---

## 📌 里程碑 1: 我的第一次稳定飞行 (Milestone 1: My First Stable Flight)

**日期:** 2025年12月11日

今天，我迈出了最关键的第一步。使用 **OpenRocket** 软件，我成功设计、建造并模拟了我的第一枚模型火箭，代号 **“起源一号” (Genesis-1)**。

虽然它还很简单，但它符合了火箭飞行的基本物理原理，并在模拟中成功达到了预定高度。

### “起源一号” (Genesis-1) 技术档案

*   **软件:** OpenRocket
*   **核心组件:**
    *   头锥 (尖顶拱)
    *   箭体 (直径 5cm)
    *   尾翼 (梯形稳定翼 x3)
*   **动力:** Estes C6-5 发动机
*   **关键成果:** 解决了飞行器设计中最核心的**稳定性问题**，确保了重心(CG)在压力中心(CP)之前。

| 最终设计图 | 飞行数据图 |
| :----------: | :----------: |
| ![Genesis-1 Design](Genesis-1-Design.png) | ![Genesis-1 Simulation](Genesis-1-Simulation.png) |
| *安装C6-5发动机后，通过调整尾翼高度，稳定性最终达到0.57 cal。* | *模拟最高点(Apogee)达到约162米。* |

### 我学到了什么 (What I Learned)

*   **OpenRocket基础:** 掌握了从零开始添加头锥、箭体、尾翼等核心组件并设定参数的方法。
*   **稳定性黄金法则:** 深刻理解了重心(CG)必须在压力中心(CP)之前，以及如何通过调整组件（如尾翼）来移动CP，实现稳定飞行。
*   **发动机的意义:** 认识到发动机不仅提供推力，其自身质量也是影响火箭重心的关键因素。
*   **仿真与数据解读:** 学会了如何配置并发起一次飞行仿真，并能从高度-速度-加速度曲线图中，解读出发动机燃尽、到达最高点等关键飞行事件。

---

## 📌 里程碑 2: 从“是什么”到“为什么”——我的物理引擎 (Milestone 2: From 'What' to 'Why' - My Physics Engine)

**日期:** 2025年12月11日

在完成基础模拟后，我不再满足于软件告诉我的“是什么”的结果，我渴望探究其背后的“为什么”。

通过使用 **Python** 和 **Numpy**，我从牛顿第二定律 (`F=ma`) 这个最纯粹的物理原点出发，亲手编写了一个火箭弹道模拟器。这个过程，让我对火箭飞行的理解深入到了第一性原理。

### 我的模拟器进化史

*   **V1 - 理想世界 (`simulator_v1.py`):**
    *   **物理模型:** 只考虑推力和重力的质点模型。
    *   **关键成果:** 成功实现了时域积分仿真，但得出了`561.41米`的夸张高度。这个“错误”的结果，让我第一次直观地感受到了空气阻力的巨大影响。

*   **V2 - 趋近现实 (`simulator_v2.py`):**
    *   **物理模型:** 在V1基础上引入了**空气阻力** (`F_drag = 0.5 * ρ * v² * C_d * A`)。
    *   **关键成果:** 模拟最高点达到 **`160.67米`**！这个结果与 OpenRocket 的 `162米` 惊人地吻合。这一刻，我验证了我的物理模型和代码的正确性，我真正理解了 OpenRocket 内部的计算逻辑。

*   **V3 - 拥抱姿态 (`simulator_v3.py`):**
    *   **物理模型:** 从一维质点升级为**二维刚体**，引入了**转动动力学** (`τ = Iα`)。
    *   **关键成果:** 成功模拟了带有初始倾角的发射。通过可视化姿态角的变化，我亲眼见证了**被动稳定性**（空气动力产生的恢复力矩）是如何让火箭在飞行中自我修正的。为下一步的主动姿态控制打下了完美的理论和代码基础。

### 我学到了什么 (What I Learned)

*   **第一性原理建模:** 将 `F=ma` 和 `τ=Iα` 等基础物理定律，通过代码转化为可执行、可预测的动态模型。
*   **工程简化与验证:** 学会了如何抓住主要矛盾（如空气阻力），对复杂系统进行合理的简化，并通过与已知基准（OpenRocket）进行对比来验证模型的有效性。
*   **刚体动力学基础:** 深刻理解了状态向量（位置、速度、角度、角速度）、力矩、转动惯量、重心(CG)与压力中心(CP)的相互作用，是如何共同决定火箭的飞行姿态的。
*   **可视化即洞察:** 认识到将抽象的物理数据（如角速度、姿态角）绘制成曲线，是理解和调试复杂动态系统最直观、最强大的方法。

---

## 📌 M2的升华: 从复现到顿悟——模拟器教给我的第一堂工程哲学课

**日期:** 2025年12月11日

今天，我完成了M2里程碑。但“完成”这个词，远不足以形容我所经历的一切。我原以为M2的目标只是用代码复现物理，但我错了。它的真正目标，是让我在亲手搭建的模拟器这面“真理之镜”前，看清理论与现实之间的鸿沟，看清我最初梦想的轮廓。

### 模拟器的“背叛”与“启示”

在为我的新火箭换上强劲的G级发动机后，我信心满满地将所有精确的物理参数——质量、重心、推力曲线——都移植到了我的`simulator_v3.py`中。但一个参数，**转动惯量 (I)**，让我陷入了困境。

在我反复碰壁，甚至一度以为是软件出错了之后，我终于迎来了第一个“顿悟”时刻：**转动惯量是动态的！** 它随着燃料的消耗而实时变化，它理应存在于飞行仿真数据中，而非静态的组件分析里。我不再是那个只会在软件里点按钮的用户，我开始理解了这些物理量背后的动态本质。

然而，当我带着一个估算的转动惯量 `I = 0.08` 运行时，模拟器给了我最响亮的一记耳光——我的火箭在虚拟世界里疯狂地翻滚，仿真彻底发散。

![失控的V3模拟](image.png)

这巨大的失败，反而让我冷静下来。我意识到，我的估算值在物理上是不合理的。通过一个简单的“细长杆”模型估算，我得到了一个更接近真实的数值 `I ≈ 0.22`。当我用这个值再次运行时，奇迹发生了。

![修正后的V3模拟](image.png)

在发动机工作的2.5秒内，火箭稳如磐石，完美地抵抗了初始扰动。但在发动机燃尽后，它又开始了剧烈的摆动。我的模拟器没有错，它忠实地告诉我：**在海岸滑行阶段，这枚火箭是动态不稳定的！**

### 我的三大工程领悟

面对这张“一半是天使，一半是魔鬼”的仿真图，我陷入了沉思。几个小时的思考，让我得到了比代码本身珍贵一百倍的领悟：

1.  **挑战的本质**: 我曾抱怨2.5秒的燃烧时间太短，无法调试PID。但我现在明白了，这并非设计的缺陷，**这本身就是真实世界的挑战**。航天工程，就是在严苛的限制下寻求最优解的艺术。我的目标，正是在这短暂的窗口内完成对“野兽”的驯服。

2.  **需求的边界**: 我曾困惑于为一枚400米的火箭设计TVC是否“小题大做”。我现在明白了，**是的，从需求上讲，它就是小题大做**。优秀的被动稳定设计已经足够。我之所以要挑战TVC，其目的**不是出于“必要性”，而是出于“求知欲”**。这是我的学习平台，是我探索控制理论的“实验室”，而不是一个以费效比为核心的工程产品。

3.  **目标的重定义**: 我曾以为主动控制的目标是“全程稳定”。但我现在明白了，我的目标应该更加聚焦、更加清晰：**在2.5秒的动力飞行段内，利用TVC和PID算法，实现完美的姿态锁定，让火箭飞出一条无可挑剔的垂直轨迹。** 发动机熄火后的翻滚，不是我的失败，而是我下一个可以研究的课题——“高空动态稳定与阻尼控制”。

---

## 🗺️ 未来路线图 (Future Roadmap)

*   **已完成的里程碑:**
    *   [x] **M1:** 使用 OpenRocket 完成基本设计与被动稳定仿真。
    *   [x] **M2:** 学习火箭动力学，用 Python 从零开始构建了二维刚体模拟器，**并深刻理解了其物理意义与工程局限性。**

*   **下一个里程碑 - M3: 主动控制的黎明 (The Dawn of Active Control):**
    *   [ ] **目标已重新聚焦：** 在 `simulator_v3.py` 中，为火箭安装PID控制器和推力矢量控制(TVC)。
    *   [ ] 调试PID参数，**在2.5秒的动力飞行窗口内**，实现对初始姿态扰动的**完全主动修正**，让火箭在该阶段飞出一条完美的垂直轨迹。

---

## 📓 开发日志 (Developer's Log)

> “有激动。但也略感失望。因为这次模拟的成果完全是初学者级别……但总之，我们的成果还是有的。” —— Day 1 感悟

> “当V2模拟器输出‘160.67米’时，我感到一阵战栗。那一刻，我不再是知识的使用者，而是规律的复现者。这无关代码，这是我对物理世界的一次成功‘解码’。十年一梦，今夜无眠。” —— Day 2 感悟

> **“今天，我的模拟器‘背叛’了我，它用一次疯狂的翻滚，将我的天真击得粉碎。但也正是这次‘背叛’，让我从一个代码的实现者，变成了一个工程的思考者。我终于不再仅仅是问‘是什么’和‘为什么’，我开始问‘应不应该’和‘为了什么’。这面代码构建的‘真理之镜’，映出的不仅是火箭的轨迹，更是我梦想该有的、更清晰的模样。” —— Day 3 感悟**